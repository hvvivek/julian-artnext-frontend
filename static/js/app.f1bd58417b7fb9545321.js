webpackJsonp([1],{"7Ogj":function(e,t,r){e.exports=r.p+"static/img/logo.1a42d1a.png"},MgPZ:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Xxa5"),a=r.n(n),s=r("exGp"),i=r.n(s),o=r("7+uW"),c=r("NYxO"),l=r("Lgyv"),u=r.n(l),d="https://julian-artnext-backend.herokuapp.com",m="Versus",p=!0,v=r("mvHQ"),f=r.n(v),h=r("M4fF"),g=r.n(h),_=r("0hgu"),x=r.n(_),b=r("BO1k"),y=r.n(b),w=r("o/zv"),k=r.n(w),C={jstr:function(e){return f()(e,null,2)},removeItem:function(e,t,r){for(var n=e.length-1;n>=0;n-=1)e[n][r]===t[r]&&e.splice(n,1)},downloadFile:function(e,t){var r="text/json;charset=utf-8,"+encodeURIComponent(t),n=document.createElement("a");n.href="data:"+r,n.download="data.json",n.innerHTML="download JSON",document.body.appendChild(n),n.click(),document.body.removeChild(n)},makeArray:function(e,t){for(var r=[],n=0;n<e;n+=1)r.push(t);return r},isStringInStringList:function(e,t){var r=!0,n=!1,a=void 0;try{for(var s,i=y()(t);!(r=(s=i.next()).done);r=!0){var o=s.value;if(g.a.includes(e,o))return!0}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return!1},copyTextToClipboard:function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{var r=document.execCommand("copy")?"successful":"unsuccessful";console.log("> copyTextToClipboard",r)}catch(e){console.log("> copyTextToClipboard failed")}document.body.removeChild(t)},extractId:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=k.a.extname(e),a=k.a.basename(e,n).split(t);return a.length>r?a[r]:""}},S=r("Gu7T"),P=r.n(S),R=r("mtWM"),I=r.n(R),U=r("lDdF"),$=r.n(U);I.a.defaults.withCredentials=!0;var E={rpcRun:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return i()(a.a.mark(function r(){var s,i,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={method:e,params:n,jsonrpc:"2.0"},(s=console).log.apply(s,["> rpc.rpcRun",e].concat(P()(n))),t.prev=2,t.next=5,I.a.post(d+"/api/rpc-run",i);case 5:return o=t.sent,t.abrupt("return",o.data);case 9:return t.prev=9,t.t0=t.catch(2),console.log(t.t0.stack),t.abrupt("return",{error:{code:-32e3,message:t.t0.toString()}});case 13:case"end":return t.stop()}},r,t,[[2,9]])}))()},rpcUpload:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var o=this;return i()(a.a.mark(function r(){var s,i,c,l,u,m,p,v,h;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for((i=new FormData).append("method",e),i.append("params",f()(n)),i.append("jsonrpc","2.0"),c=!0,l=!1,u=void 0,r.prev=7,m=y()(t);!(c=(p=m.next()).done);c=!0)v=p.value,i.append("uploadFiles",v,v.name);r.next=15;break;case 11:r.prev=11,r.t0=r.catch(7),l=!0,u=r.t0;case 15:r.prev=15,r.prev=16,!c&&m.return&&m.return();case 18:if(r.prev=18,!l){r.next=21;break}throw u;case 21:return r.finish(18);case 22:return r.finish(15);case 23:return(s=console).log.apply(s,["> rpc.rpcUpoad",e,t].concat(P()(n))),r.prev=24,r.next=27,I.a.post(d+"/api/rpc-upload",i);case 27:return h=r.sent,r.abrupt("return",h.data);case 31:return r.prev=31,r.t1=r.catch(24),console.log(r.t1.stack),r.abrupt("return",{error:{code:-32e3,message:r.t1.toString()}});case 35:case"end":return r.stop()}},r,o,[[7,11,15,23],[16,,18,22],[24,31]])}))()},rpcDownload:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return i()(a.a.mark(function r(){var s,i,o,c,l,u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={method:e,params:n,jsonrpc:"2.0"},(s=console).log.apply(s,["> rpc.rpcDownload"].concat(P()(n))),t.prev=2,t.next=5,I.a.post(d+"/api/rpc-download",i);case 5:return o=t.sent,c=o.headers.filename,l=JSON.parse(o.headers.data),console.log("> rpc.rpcDownload response",l),l.error||(u=new Blob([o.data]),$.a.saveAs(u,c)),t.abrupt("return",l);case 13:return t.prev=13,t.t0=t.catch(2),console.log(t.t0.stack),t.abrupt("return",{error:{code:-32e3,message:t.t0.toString()}});case 17:case"end":return t.stop()}},r,t,[[2,13]])}))()}};var T={authenticated:!1};function q(e){var t,r=g.a.cloneDeep(e);return!r.password&&r.rawPassword&&(r.password=(t=r.rawPassword,x()(t).toString()),delete r.rawPassword),r.rawPasswordConfirm&&delete r.rawPasswordConfirm,r}var F={user:T,login:function(e){var t=this;return i()(a.a.mark(function r(){var n,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=q(e),console.log("> auth.login",n),t.next=4,E.rpcRun("publicLoginUser",n);case 4:return s=t.sent,console.log("> auth.login response",s),s.result&&(T.authenticated=!0,g.a.assign(T,s.result.user),T.password=n.password,localStorage.setItem("user",C.jstr(T))),t.abrupt("return",s);case 8:case"end":return t.stop()}},r,t)}))()},register:function(e){var t=q(e);return console.log("> auth.register",t),E.rpcRun("publicRegisterUser",t)},update:function(e){var t=this;return i()(a.a.mark(function r(){var n,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=q(e),console.log("> auth.update",C.jstr(n)),t.next=4,E.rpcRun("loginUpdateUser",n);case 4:return(s=t.sent).result&&(g.a.assign(T,n),localStorage.setItem("user",f()(T))),t.abrupt("return",s);case 7:case"end":return t.stop()}},r,t)}))()},forceUpdate:function(e){var t=this;return i()(a.a.mark(function r(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=q(e),console.log("> auth.forceUpdate",C.jstr(n)),t.abrupt("return",E.rpcRun("publicForceUpdatePassword",n));case 3:case"end":return t.stop()}},r,t)}))()},restoreLastUser:function(){var e=this;return i()(a.a.mark(function t(){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=JSON.parse(localStorage.getItem("user")),console.log("> auth.restoreLastUser from localStorage",r),!r){t.next=4;break}return t.abrupt("return",e.login(r));case 4:case"end":return t.stop()}},t,e)}))()},logout:function(){return localStorage.removeItem("user"),T.authenticated=!1,E.rpcRun("publicLogoutUser")}},A=["/mechanical-turk","/participant"],L={name:"navbar",data:function(){return{user:F.user,title:m,isUser:p}},computed:{isShowNavbar:function(){return!this.$route.fullPath||!C.isStringInStringList(this.$route.fullPath,A)}},methods:{editUser:function(){this.$router.push("/edit-user")},home:function(){this.$router.push("/")},logout:function(){var e=this;return i()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.logout();case 2:e.$router.push("/login");case 3:case"end":return t.stop()}},t,e)}))()}}},D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShowNavbar?n("md-toolbar",{staticClass:"md-dense"},[n("div",{staticStyle:{height:"30px",flex:"1",cursor:"pointer"}},[n("img",{staticStyle:{height:"30px"},attrs:{src:r("7Ogj")},on:{click:function(t){return e.home()}}})]),e._v(" "),e.isUser?n("div",[e.user.authenticated?n("span",[n("router-link",{staticClass:"md-button",attrs:{to:"/experiments"}},[e._v("\n        Experiments\n      ")]),e._v(" "),n("md-menu",[n("md-button",{attrs:{"md-menu-trigger":""}},[e._v("\n          "+e._s(e.user.name)+"\n        ")]),e._v(" "),n("md-menu-content",[n("md-menu-item",{on:{click:e.editUser}},[e._v("\n            Edit User\n          ")]),e._v(" "),n("md-menu-item",{on:{click:e.logout}},[e._v("\n            Logout\n          ")])],1)],1)],1):n("router-link",{attrs:{to:"/login",tag:"md-button"}},[e._v("\n      Login\n    ")])],1):e._e()]):e._e()},staticRenderFns:[]},j={name:"app",components:{Navbar:r("VU/8")(L,D,!1,null,null,null).exports}},N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("navbar"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var B=r("VU/8")(j,N,!1,function(e){r("eFJw")},null,null).exports,M=r("/ocq"),Q={name:"home",data:function(){return{user:F.user}}},V={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-layout",{staticStyle:{padding:"1em"},attrs:{"md-align":"center"}},[n("md-layout",{staticStyle:{width:"400px","text-align":"left"},attrs:{"md-column":"","md-flex":"30","md-flex-medium":"50","md-flex-small":"80"}},[n("div",{staticStyle:{"padding-top":"4em","padding-bottom":"2em"}},[n("img",{staticStyle:{width:"350px"},attrs:{src:r("7Ogj")}})]),e._v(" "),n("p",[e._v("\n      Versus is a tool to facilitate visual analytics studies.\n      It is designed to work both as a standalone tool or to\n      use in conjunction with\n      "),n("a",{attrs:{href:"https://requester.mturk.com/"}},[e._v("Mechanical Turk")]),e._v("\n      as a survey link.\n    ")]),e._v(" "),n("p",[e._v("\n      Currently, we provide 2 options:\n    "),n("ol",[n("li",[e._v("\n          Two-alternative forced-choice (2FCA) methodology to achieve a\n          full-set image ranking by comparing image pairs in several rounds.\n        ")]),e._v(" "),n("li",[e._v("\n          Multiple choice survey with a possible qualification\n          round to record participant answers.\n        ")])])]),e._v(" "),n("p",[e._v("\n      Repository and further instructions at "),n("a",{attrs:{href:"https://github.com/ODonoghueLab/versus"}},[e._v("https://github.com/ODonoghueLab/versus")])]),e._v(" "),n("p"),e._v(" "),e.user.authenticated?e._e():n("md-layout",{attrs:{"md-align":"le","md-vertical-align":"center"}},[n("router-link",{staticClass:"md-raised md-primary",attrs:{to:"/login",tag:"md-button"}},[e._v("\n        login\n      ")]),e._v("\n       or\n      "),n("router-link",{staticClass:"md-button md-raised",attrs:{to:"/register",tag:"md-button"}},[e._v("\n        register\n      ")])],1)],1)],1)},staticRenderFns:[]},O=r("VU/8")(Q,V,!1,null,null,null).exports,Y={name:"userExperiments",data:function(){return{experiments:[]}},mounted:function(){var e=this;return i()(a.a.mark(function t(){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.rpcRun("getExperimentSummaries",F.user.id);case 2:(r=t.sent).result&&(e.$data.experiments=r.result.experiments);case 4:case"end":return t.stop()}},t,e)}))()},methods:{title:function(){return"Experiments created by user: "+F.user.name},deleteExperiment:function(e){var t=this;return i()(a.a.mark(function r(){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E.rpcRun("deleteExperiment",e.id);case 2:C.removeItem(t.$data.experiments,e,"id");case 3:case"end":return r.stop()}},r,t)}))()},createExperiment:function(){$e.push("/create-experiment")},getExperimentRoute:function(e){$e.push("experiment/"+e)}}},J={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{padding:"1em"}},[r("h2",{staticClass:"md-display-2"},[e._v("\n    "+e._s(e.title())+"\n  ")]),e._v(" "),e.experiments.length?r("md-table",{staticStyle:{"margin-left":"10px"}},[r("md-table-header",[r("md-table-row",[r("md-table-head",[e._v("Name")]),e._v(" "),r("md-table-head")],1)],1),e._v(" "),r("md-table-body",e._l(e.experiments,function(t,n){return r("md-table-row",{key:n},[r("md-table-cell",{staticStyle:{width:"100%"}},[r("a",{on:{click:function(r){return e.getExperimentRoute(t.id)}}},[e._v("\n            "+e._s(t.attr.name)+"\n          ")])]),e._v(" "),r("md-table-cell",[r("md-button",{staticClass:"md-icon-button md-raised",on:{click:function(r){return e.deleteExperiment(t)}}},[r("md-icon",[e._v("delete")])],1)],1)],1)}),1)],1):e._e(),e._v(" "),r("md-button",{staticClass:"md-button md-raised md-primary",staticStyle:{"margin-top":"2em"},on:{click:function(t){return e.createExperiment()}}},[e._v("\n    Create New Experiment\n  ")])],1)},staticRenderFns:[]},H=r("VU/8")(Y,J,!1,null,null,null).exports,W={name:"experiment",data:function(){return{experiment:{},images:{},imageSetIds:[]}},mounted:function(){var e=this;return i()(a.a.mark(function t(){var r,n,s,i,o,c,l,u,d,m,p,v,f;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$route.params.experimentId,t.next=3,E.rpcRun("getExperiment",r);case 3:for(n=t.sent,s=n.result.experiment,e.experiment=s,console.log("> Experiment.mounted",g.a.cloneDeep(s)),i=s.attr.imageSetIds,e.imageSetIds=i,o={},c=g.a.map(s.images,function(e){return e.url}),l=function(e){o[e]=g.a.filter(c,function(t){return C.extractId(t)===e})},u=!0,d=!1,m=void 0,t.prev=15,p=y()(s.attr.imageSetIds);!(u=(v=p.next()).done);u=!0)f=v.value,l(f);t.next=23;break;case 19:t.prev=19,t.t0=t.catch(15),d=!0,m=t.t0;case 23:t.prev=23,t.prev=24,!u&&p.return&&p.return();case 26:if(t.prev=26,!d){t.next=29;break}throw m;case 29:return t.finish(26);case 30:return t.finish(23);case 31:e.images=o;case 32:case"end":return t.stop()}},t,e,[[15,19,23,31],[24,,26,30]])}))()},methods:{getFullUrl:function(e){return d+e},getBaseUrl:function(e){return k.a.basename(e)},downloadResults:function(){var e=this;return i()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.rpcDownload("downloadResults",e.$route.params.experimentId);case 2:case"end":return t.stop()}},t,e)}))()},reformatDate:function(e,t){if(t in e){var r=e[t];return new Date(r).toString()}return""},getInviteRoute:function(e){return"/participant/"+e.participateId},copyInviteRoute:function(e){var t=window.location.href,r=t.indexOf("#"),n=t.substring(0,r+1);C.copyTextToClipboard(n+"/participant/"+e.participateId)},deleteInvite:function(e){var t=this;E.rpcRun("deleteParticipant",e.participateId).then(function(r){if(console.log("> Experiment.deleteInvite",r),!r.error){var n=t.$data.experiment.participants;C.removeItem(n,e,"participateId")}})},makeInvite:function(){var e=this.$route.params.experimentId,t=this.$data.experiment.participants;E.rpcRun("publicInviteParticipant",e,"test@test.com").then(function(e){console.log("> Experiment.makeInvite",e),t.push(e.result.participant)})},saveExperimentAttr:function(){var e=this;return i()(a.a.mark(function t(){var r,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=e.$data.experiment).attr.fractionRepeat=parseFloat(r.attr.fractionRepeat),t.next=4,E.rpcRun("saveExperimentAttr",r.id,r.attr);case 4:(n=t.sent).result&&(e.experiment=n.result.experiment);case 6:case"end":return t.stop()}},t,e)}))()},getMturkLink:function(){return"./#/mechanical-turk/"+this.$data.experiment.id}}},z={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"padding-left":"1em","padding-right":"1em"}},[e.experiment.attr?r("h2",{staticClass:"md-display-2"},["2afc"==e.experiment.attr.questionType?r("span",[e._v("\n      2 Alternative Forced Choice\n    ")]):e._e(),e._v(" "),"multiple"==e.experiment.attr.questionType?r("span",[e._v("\n      Multiple Choice\n    ")]):e._e(),e._v("\n    Experiment:\n\n    "),e.experiment.attr?r("span",[e._v("\n      "+e._s(e.experiment.attr.name)+"\n    ")]):e._e()]):e._e(),e._v(" "),e.experiment.attr?r("md-whiteframe",{staticStyle:{padding:"1em","margin-bottom":"1em"}},[r("h3",{staticClass:"md-title"},[e._v("Parameters")]),e._v(" "),r("md-input-container",{staticStyle:{width:"200px"}},[r("label",[e._v("\n        Fraction to be Repeated\n      ")]),e._v(" "),r("md-input",{attrs:{type:"number",step:"0.01"},model:{value:e.experiment.attr.fractionRepeat,callback:function(t){e.$set(e.experiment.attr,"fractionRepeat",t)},expression:"experiment.attr.fractionRepeat"}})],1),e._v(" "),e._l(e.experiment.attr.text.sectionKeys,function(t){return r("md-layout",{key:t,attrs:{"md-row":"","md-vertical-align":"start"}},[r("md-layout",{staticStyle:{"padding-right":"1.5em"},attrs:{"md-flex":"50"}},[r("md-input-container",[r("label",[e._v(" "+e._s(t)+" header ")]),e._v(" "),r("md-textarea",{model:{value:e.experiment.attr.text.sections[t].header,callback:function(r){e.$set(e.experiment.attr.text.sections[t],"header",r)},expression:"experiment.attr.text.sections[key].header"}})],1)],1),e._v(" "),r("md-layout",[r("md-input-container",[r("label",[e._v(" "+e._s(t)+" blurb ")]),e._v(" "),r("md-textarea",{model:{value:e.experiment.attr.text.sections[t].blurb,callback:function(r){e.$set(e.experiment.attr.text.sections[t],"blurb",r)},expression:"experiment.attr.text.sections[key].blurb"}})],1)],1)],1)}),e._v(" "),r("md-button",{staticClass:"md-raised",on:{click:e.saveExperimentAttr}},[e._v("\n      Update Text\n    ")])],2):e._e(),e._v(" "),r("md-whiteframe",{staticStyle:{padding:"1em","margin-bottom":"1em"}},[r("h3",{staticClass:"md-title"},[e._v("Participants")]),e._v("\n\n    Mechanical Turk Survey Link:\n    "),r("a",{attrs:{href:e.getMturkLink()}},[e._v(e._s(e.getMturkLink()))]),e._v(" "),r("br"),e._v(" "),r("br"),e._v(" "),r("md-button",{staticClass:"md-raised",on:{click:e.makeInvite}},[e._v("\n      Invite participant\n    ")]),e._v(" "),r("md-button",{staticClass:"md-raised",on:{click:function(t){return e.downloadResults()}}},[e._v('\n      Download "results.csv"\n    ')]),e._v(" "),e.experiment.participants?r("md-table",[r("md-table-header",[r("md-table-row",[r("md-table-head",[e._v("Invite")]),e._v(" "),r("md-table-head",[e._v("Status")]),e._v(" "),r("md-table-head",[e._v("Code")]),e._v(" "),r("md-table-head",[e._v("Time (s)")]),e._v(" "),r("md-table-head",[e._v("Answers")]),e._v(" "),r("md-table-head",[e._v("Fraction of Repeats")]),e._v(" "),r("md-table-head",[e._v("Repeats")]),e._v(" "),r("md-table-head",[e._v("Consistent")]),e._v(" "),r("md-table-head",[e._v("Created")]),e._v(" "),r("md-table-head",[e._v("Updated")])],1)],1),e._v(" "),r("md-table-body",e._l(e.experiment.participants,function(t,n){return r("md-table-row",{key:n},[r("md-table-cell",[r("router-link",{staticClass:"button",attrs:{to:e.getInviteRoute(t)}},[e._v("\n              link\n            ")]),e._v("\n             "),r("a",{on:{click:function(r){return e.copyInviteRoute(t)}}},[e._v("\n            copy\n          ")])],1),e._v(" "),r("md-table-cell",[e._v("\n            "+e._s(t.attr.status)+"\n          ")]),e._v(" "),r("md-table-cell",[e._v("\n            "+e._s(t.attr.surveyCode)+"\n          ")]),e._v(" "),r("md-table-cell",[t.attr.time?r("span",[e._v("\n              "+e._s(t.attr.time.toFixed(1))+"\n            ")]):e._e()]),e._v(" "),r("md-table-cell",[e._v("\n            "+e._s(t.attr.nAnswer)+"\n          ")]),e._v(" "),r("md-table-cell",[e._v("\n            "+e._s(t.attr.fractionRepeat)+"\n          ")]),e._v(" "),r("md-table-cell",[e._v("\n            "+e._s(t.attr.nRepeatAnswer)+"\n          ")]),e._v(" "),r("md-table-cell",[e._v("\n            "+e._s(t.attr.nConsistentAnswer)+"\n          ")]),e._v(" "),r("md-table-cell",[e._v("\n            "+e._s(e.reformatDate(t,"createdAt"))+"\n          ")]),e._v(" "),r("md-table-cell",[e._v("\n            "+e._s(e.reformatDate(t,"updatedAt"))+"\n          ")]),e._v(" "),r("md-table-cell",[r("md-button",{staticClass:"md-icon-button md-raised",on:{click:function(r){return e.deleteInvite(t)}}},[r("md-icon",[e._v("delete")])],1)],1)],1)}),1)],1):e._e()],1),e._v(" "),r("md-whiteframe",{staticStyle:{padding:"1em","margin-bottom":"1em"}},[r("h2",{staticClass:"md-title"},[e._v("Images")]),e._v(" "),e._l(e.imageSetIds,function(t,n){return r("div",{key:n,staticStyle:{"margin-top":"0.5em"}},[r("h2",{staticClass:"md-subheading"},[e._v(e._s(t))]),e._v(" "),r("md-layout",{staticStyle:{"padding-top":"0.5em"}},e._l(e.images[t],function(t,n){return r("md-card",{key:n,staticStyle:{"margin-right":"0.5em","margin-bottom":"0.5em"}},[r("md-card-media",[r("img",{staticStyle:{width:"150px"},attrs:{src:e.getFullUrl(t)}})]),e._v(" "),r("md-card-content",{staticStyle:{"text-align":"left"}},[e._v("\n            "+e._s(n+1)+": "+e._s(e.getBaseUrl(t))+"\n          ")])],1)}),1)],1)})],2)],1)},staticRenderFns:[]},G=r("VU/8")(W,z,!1,null,null,null).exports,K=r("d7EF"),Z=r.n(K);function X(e,t){var r=!0,n=!1,a=void 0;try{for(var s,i=y()(e);!(r=(s=i.next()).done);r=!0){var o=s.value.name,c=g.a.last(o.split(".")).toLowerCase();if(console.log(o,c),!g.a.includes(["png","gif","jpg","jpeg"],c))return"only .png, .jpg, .gif allowed"}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}if("2afc"===t){var l=[],u={},d=!0,m=!1,p=void 0;try{for(var v,f=y()(e);!(d=(v=f.next()).done);d=!0){o=v.value.name;var h=C.extractId(o);g.a.includes(l,h)||(l.push(h),u[h]=0),u[h]+=1}}catch(e){m=!0,p=e}finally{try{!d&&f.return&&f.return()}finally{if(m)throw p}}var _=!0,x=!1,b=void 0;try{for(var w,k=y()(g.a.toPairs(u));!(_=(w=k.next()).done);_=!0){var S=w.value,P=Z()(S,2),R=(h=P[0],P[1]);if(console.log(h,R),R<2)return"minimum two images for "+h}}catch(e){x=!0,b=e}finally{try{!_&&k.return&&k.return()}finally{if(x)throw b}}}return""}var ee={name:"createExperiment",data:function(){return{name:"",questionType:"2afc",fractionRepeat:.2,files:"",fileStr:"",isUploading:!1,error:"",textByQuestionType:{multiple:{sectionKeys:["qualificationStart","qualificationFailed","start","running","done"],sections:{running:{header:"Which image encode the contact shown in the 3D model?",blurb:"Remember that your answers will be timed and checked for consistency"},qualificationStart:{header:"",blurb:"You will now start a short qualification test. Please answer carefully"},done:{header:"",blurb:"Your tests are done. Thank you. Your survey code is"},start:{header:"Great Job!",blurb:"You will now start the survey. Do not forget to copy the survey code provided at the end of the survey, and paste it into the Mechanical Turk page."},qualificationFailed:{header:"",blurb:"Sorry, you have not passed the qualification. Thank you for your time"}}},"2afc":{sectionKeys:["start","running","done"],sections:{running:{header:"Which image looks better?",blurb:"Click on the image that looks better. Take your time"},done:{header:"",blurb:"Your tests are done. Thank you. Your survey code is"},start:{header:"",blurb:"You will now start the survey. Do not forget to copy the survey code provided at the end of the survey, and paste it into the Mechanical Turk page."}}}}}},mounted:function(){console.log("> CreateExperiment.mounted",C.jstr(this.textByQuestionType))},methods:{selectFiles:function(e){this.$data.files=e,this.$data.fileStr=e.length+" files"},submit:function(){var e=this;return i()(a.a.mark(function t(){var r,n,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.attr={},e.attr.questionType=e.questionType,e.attr.name=e.name,e.attr.fractionRepeat=parseFloat(e.fractionRepeat),e.attr.text=e.textByQuestionType[e.questionType],r=X(e.files,e.questionType),e.name||(r="must have experiment name"),!r){t.next=10;break}return e.$data.error="Error: "+r,t.abrupt("return");case 10:return e.$data.isUploading=!0,console.log("> CreateExperiment.submit attr",g.a.cloneDeep(e.attr)),t.next=14,E.rpcUpload("uploadImagesAndCreateExperiment",e.files,F.user.id,g.a.cloneDeep(e.attr));case 14:n=t.sent,console.log("> CreateExperiment.submit response",n),n.result?(s=n.result.experimentId,e.$router.push("/experiment/"+s)):e.error=n.error.message;case 17:case"end":return t.stop()}},t,e)}))()}}},te={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"padding-left":"1em","padding-right":"1em","text-align":"left"}},[r("h2",{staticClass:"md-display-2"},[e._v("\n    Create Experiment\n  ")]),e._v(" "),r("div",[r("md-radio",{attrs:{"md-value":"2afc"},model:{value:e.questionType,callback:function(t){e.questionType=t},expression:"questionType"}},[e._v("\n      2 alternative forced choice\n    ")]),e._v(" "),r("md-radio",{attrs:{"md-value":"multiple"},model:{value:e.questionType,callback:function(t){e.questionType=t},expression:"questionType"}},[e._v("\n      multiple choice\n    ")])],1),e._v(" "),r("md-input-container",{staticStyle:{width:"180px"}},[r("label",[e._v("\n      Fraction to be Repeated\n    ")]),e._v(" "),r("md-input",{attrs:{type:"number",step:.01},model:{value:e.fractionRepeat,callback:function(t){e.fractionRepeat=t},expression:"fractionRepeat"}})],1),e._v(" "),r("md-input-container",[r("label",[e._v("Name")]),e._v(" "),r("md-input",{attrs:{type:"text",name:"uploadFiles"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),r("md-input-container",[r("md-file",{attrs:{id:"file-input",multiple:""},on:{selected:e.selectFiles}}),e._v(" "),r("label",{staticClass:"button",attrs:{for:"file-input"}},[e._v("\n      Upload files\n    ")])],1),e._v(" "),e._m(0),e._v(" "),e._l(e.textByQuestionType[e.questionType].sectionKeys,function(t){return r("md-layout",{key:t,attrs:{"md-row":"","md-vertical-align":"start"}},[r("md-layout",{staticStyle:{"padding-right":"1.5em"},attrs:{"md-flex":"50"}},[r("md-input-container",[r("label",[e._v(" "+e._s(t)+" header")]),e._v(" "),r("md-textarea",{model:{value:e.textByQuestionType[e.questionType].sections[t].header,callback:function(r){e.$set(e.textByQuestionType[e.questionType].sections[t],"header",r)},expression:"textByQuestionType[questionType].sections[key].header"}})],1)],1),e._v(" "),r("md-layout",[r("md-input-container",[r("label",[e._v(" "+e._s(t)+" blurb")]),e._v(" "),r("md-textarea",{model:{value:e.textByQuestionType[e.questionType].sections[t].blurb,callback:function(r){e.$set(e.textByQuestionType[e.questionType].sections[t],"blurb",r)},expression:"textByQuestionType[questionType].sections[key].blurb"}})],1)],1)],1)}),e._v(" "),r("md-layout",{attrs:{"md-row":"","md-vertical-align":"center"}},[r("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit",disabled:e.isUploading},on:{click:e.submit}},[e._v("\n      Submit\n    ")]),e._v(" "),e.isUploading?r("md-spinner",{attrs:{"md-indeterminate":"","md-size":30}}):e._e()],1),e._v(" "),e.error?r("span",{staticStyle:{"padding-top":"1em","padding-left":"1em",color:"red"}},[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e()],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"font-size":"1em",color:"#999","margin-top":"-1.5em","line-height":"1.2em"}},[this._v("\n    Images are .png, .jpg, or .gif.\n    "),t("br"),this._v("\n    An image set is defined by an underscore, eg `imageset_*.png`.\n    "),t("br"),this._v("\n    Each image set must have at least 2 images.\n    "),t("br"),this._v(" "),t("br")])}]},re=r("VU/8")(ee,te,!1,null,null,null).exports,ne=r("//Fk"),ae=r.n(ne);function se(e){return new ae.a(function(t){setTimeout(t,e)})}var ie={};function oe(e){var t=!0,r=!1,n=void 0;try{for(var a,s=y()(e);!(t=(a=s.next()).done);t=!0){var i=a.value;if(!(i in ie)){var o=new Image;o.src=i,ie[i]=o,console.log("> Particpant.preloadImage",o.src)}}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}}function ce(e){var t=!0,r=!1,n=void 0;try{for(var a,s=y()(e);!(t=(a=s.next()).done);t=!0){var i=a.value;if(!(i in ie))return console.log("> Participant.areImagesLoaded warning: "+i+" not found in "+g.a.keys(ie)),!1;var o=ie[i];if(!(o.complete&&0!==o.naturalHeight))return!1}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}return!0}var le={name:"invite",data:function(){return{status:null,surveyCode:null,progress:0,question:null,choices:[],isChosen:!1,isLoading:!0,experimentAttr:{}}},mounted:function(){var e=this.$route.params.participateId;E.rpcRun("publicGetNextChoice",e).then(this.handleResponse)},methods:{handleResponse:function(e){var t=this;return i()(a.a.mark(function r(){var n,s,i,o,c,l,u,m,p;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.result,console.log("> Participant.handleResponse status="+n.status,g.a.clone(n)),t.status=n.status,t.experimentAttr=n.experimentAttr,"start"!==t.status){r.next=7;break}r.next=55;break;case 7:if("done"!==t.status){r.next=11;break}t.surveyCode=n.surveyCode,r.next=55;break;case 11:if(!g.a.includes(["running","qualifying"],t.status)){r.next=55;break}return t.experimentAttr=n.experimentAttr,t.progress=n.progress,t.method=n.method,t.question=null,t.choices.length=0,t.isChosen=!1,t.isLoading=!0,r.next=21,se(200);case 21:for(s=[],n.question&&(n.question.fullUrl=d+n.question.url,s.push(d+n.question.url)),i=!0,o=!1,c=void 0,r.prev=26,l=y()(n.choices);!(i=(u=l.next()).done);i=!0)(m=u.value).fullUrl=d+m.url,m.isClick=!1,s.push(m.fullUrl);r.next=34;break;case 30:r.prev=30,r.t0=r.catch(26),o=!0,c=r.t0;case 34:r.prev=34,r.prev=35,!i&&l.return&&l.return();case 37:if(r.prev=37,!o){r.next=40;break}throw c;case 40:return r.finish(37);case 41:return r.finish(34);case 42:oe(s);case 43:if(ce(s)){r.next=48;break}return r.next=46,se(100);case 46:r.next=43;break;case 48:t.isLoading=!1,t.choices=g.a.shuffle(n.choices),n.question&&(t.question=n.question),p=!1,t.choices[0].isRepeat?p=t.choices[0].isRepeat:t.choices[0].comparison&&(p=t.choices[0].comparison.isRepeat),n.urls&&oe(g.a.map(n.urls,function(e){return d+e})),console.log("> Participant.handleResponse setid="+C.extractId(s[0])+" repeat="+p+" urls="+C.jstr(g.a.map(t.choices,"url")),n.choices);case 55:case"end":return r.stop()}},r,t,[[26,30,34,42],[35,,37,41]])}))()},choose:function(e){var t=this;return i()(a.a.mark(function r(){var n,s,i;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.isClick=!0,t.isChosen=!0,t.$forceUpdate(),n=t.$route.params.participateId,s=t.method,r.next=7,E.rpcRun(s,n,e);case 7:return i=r.sent,r.abrupt("return",t.handleResponse(i));case 9:case"end":return r.stop()}},r,t)}))()},startSurvey:function(){var e=this.$route.params.participateId;return E.rpcRun("publicSaveParticipantUserDetails",e,{isQualified:!0}).then(this.handleResponse)},startQualification:function(){var e=this.$route.params.participateId;return E.rpcRun("publicSaveParticipantUserDetails",e,{isQualified:!1}).then(this.handleResponse)}}},ue={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["qualificationStart"===e.status?r("div",{staticStyle:{padding:"1em"}},[r("h2",{staticClass:"md-display-1"},[e._v("\n      "+e._s(e.experimentAttr.text.sections.qualificationStart.header)+"\n    ")]),e._v(" "),r("p",[e._v("\n      "+e._s(e.experimentAttr.text.sections.qualificationStart.blurb)+"\n    ")]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.startSurvey(t)}}},[r("md-button",{staticClass:"md-raised md-primary",staticStyle:{"margin-left":"1em"},on:{click:e.startQualification}},[e._v("\n        Begin\n      ")])],1)]):e._e(),e._v(" "),"start"===e.status?r("div",{staticStyle:{padding:"1em"}},[r("h2",{staticClass:"md-display-1"},[e._v("\n      "+e._s(e.experimentAttr.text.sections.start.header)+"\n    ")]),e._v(" "),r("p",[e._v("\n      "+e._s(e.experimentAttr.text.sections.start.blurb)+"\n    ")]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.startSurvey(t)}}},[r("md-button",{staticClass:"md-raised md-primary",staticStyle:{"margin-left":"1em"},on:{click:e.startSurvey}},[e._v("\n        Begin\n      ")])],1)]):"done"===e.status?r("div",{staticClass:"done"},[r("md-layout",{staticClass:"md-display-1 done",staticStyle:{padding:"1em"},attrs:{"md-align":"center","md-column":"","md-vertical-align":"center"}},[r("h2",{staticClass:"md-display-2"},[e._v("\n        "+e._s(e.experimentAttr.text.sections.done.header)+"\n      ")]),e._v(" "),r("p",[e._v("\n        "+e._s(e.experimentAttr.text.sections.done.blurb)+"\n      ")]),e._v(" "),r("md-whiteframe",{staticStyle:{padding:"0.5em","text-transform":"none"}},[e._v("\n        "+e._s(e.surveyCode)+"\n      ")])],1)],1):"qualificationFailed"===e.status?r("div",{staticClass:"done"},[r("md-layout",{staticClass:"md-display-1 done",staticStyle:{padding:"1em"},attrs:{"md-align":"center","md-column":"","md-vertical-align":"center"}},[r("h2",{staticClass:"md-display-2"},[e._v("\n        "+e._s(e.experimentAttr.text.sections.qualificationFailed.header)+"\n      ")]),e._v(" "),r("p",[e._v("\n        "+e._s(e.experimentAttr.text.sections.qualificationFailed.blurb)+"\n      ")])])],1):"running"===e.status||"qualifying"===e.status?r("div",[r("md-progress",{staticStyle:{height:"8px"},attrs:{"md-progress":e.progress}}),e._v(" "),r("md-layout",{staticStyle:{padding:"1em"},attrs:{"md-align":"center"}},[r("h2",{staticClass:"md-display-1",staticStyle:{"text-align":"center"}},[e._v("\n        "+e._s(e.experimentAttr.text.sections.running.header)+"\n      ")]),e._v(" "),r("div",{staticStyle:{width:"100%","text-align":"center","margin-bottom":"1em"}},[e._v("\n        "+e._s(e.experimentAttr.text.sections.running.blurb)+"\n      ")]),e._v(" "),e.isLoading?r("div",[r("md-spinner",{staticStyle:{"margin-top":"3em"},attrs:{"md-size":150,"md-indeterminate":""}}),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[e._v("\n          Loading...\n        ")])],1):e._e(),e._v(" "),!e.isLoading&&e.question?r("md-layout",{attrs:{"md-align":"center","md-flex":"100"}},[r("img",{staticStyle:{height:"300px"},attrs:{src:e.question.fullUrl}})]):e._e(),e._v(" "),e._l(e.choices,function(t,n){return e.isLoading?e._e():r("md-layout",{key:n,attrs:{"md-align":"center"}},[r("md-whiteframe",{staticStyle:{"margin-left":"1em","margin-right":"1em"},attrs:{"md-elevation":"5"}},[r("div",{staticStyle:{height:"12px"}},[t.isClick?r("md-progress",{attrs:{"md-indeterminate":""}}):e._e()],1),e._v(" "),r("div",{attrs:{id:"img-a"}},[r("img",{attrs:{src:t.fullUrl}})])]),e._v(" "),r("div",{staticStyle:{width:"100%","padding-top":"1em","text-align":"center"}},[r("md-button",{staticClass:"md-raised choice",attrs:{disabled:e.isChosen},on:{click:function(r){return e.choose(t)}}},[e._v("\n            Choose\n          ")])],1)],1)})],2)],1):e._e()])},staticRenderFns:[]};var de=r("VU/8")(le,ue,!1,function(e){r("MgPZ")},"data-v-54cc0d29",null).exports,me={name:"Login",data:function(){return{title:m,email:"",rawPassword:"",error:""}},methods:{submit:function(){var e=this;return i()(a.a.mark(function t(){var r,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={email:e.$data.email,rawPassword:e.$data.rawPassword},console.log("> Login.submit",r),t.next=4,F.login(r);case 4:n=t.sent,console.log("> Login.submit response",n),n.result?e.$router.push("/experiments"):e.error=n.error.message;case 7:case"end":return t.stop()}},t,e)}))()}}},pe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("md-layout",{attrs:{"md-align":"center"}},[r("md-whiteframe",{staticStyle:{"margin-top":"4em",padding:"3em"}},[r("md-layout",{attrs:{"md-flex":"50","md-align":"center","md-column":""}},[r("h2",{staticClass:"md-display-2"},[e._v("\n        Login to "+e._s(e.title)+"\n      ")]),e._v(" "),r("form",{staticClass:"login-screen",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[r("md-input-container",[r("label",[e._v("E-mail address")]),e._v(" "),r("md-input",{attrs:{type:"text",placeholder:"E-mail address"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),r("md-input-container",[r("label",[e._v("Password")]),e._v(" "),r("md-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.rawPassword,callback:function(t){e.rawPassword=t},expression:"rawPassword"}})],1),e._v(" "),r("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"}},[e._v("login")]),e._v(" "),e.error?r("div",{staticStyle:{color:"red"}},[e._v("\n          "+e._s(e.error)+"\n        ")]):e._e(),e._v(" "),r("div",{staticStyle:{"margin-top":"3em"}},[e._v("\n          New to "+e._s(e.title)+"?  \n          "),r("router-link",{attrs:{to:"/register"}},[e._v("Register")])],1)],1)])],1)],1)},staticRenderFns:[]},ve=r("VU/8")(me,pe,!1,null,null,null).exports,fe={name:"Register",data:function(){return{title:m,name:"",email:"",rawPassword:"",rawPasswordConfirm:"",user:F.user,error:""}},methods:{submit:function(){var e=this;return i()(a.a.mark(function t(){var r,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={name:e.$data.name,email:e.$data.email,rawPassword:e.$data.rawPassword,rawPasswordConfirm:e.$data.rawPasswordConfirm},t.next=3,F.register(r);case 3:if(!(n=t.sent).result){t.next=9;break}return console.log("> Register.submit register success",n.result),t.next=8,F.login({email:r.email,rawPassword:r.rawPassword});case 8:n=t.sent;case 9:n.result?(console.log("> Register.submit login success",n.result),e.$router.push("/experiments")):(console.log("> Register.submit fail",n.error),e.error=n.error.message);case 10:case"end":return t.stop()}},t,e)}))()}}},he={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("md-layout",{attrs:{"md-align":"center"}},[r("md-whiteframe",{staticStyle:{"margin-top":"4em",padding:"3em"}},[r("md-layout",{attrs:{"md-flex":"50","md-align":"center","md-column":""}},[r("h2",{staticClass:"md-display-2"},[e._v("\n        Register to "+e._s(e.title)+"\n      ")]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[r("md-input-container",[r("label",[e._v("User name")]),e._v(" "),r("md-input",{attrs:{type:"text",placeholder:"User name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),r("md-input-container",[r("label",[e._v("E-mail address")]),e._v(" "),r("md-input",{attrs:{type:"text",placeholder:"E-mail address"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),r("md-input-container",[r("label",[e._v("Password")]),e._v(" "),r("md-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.rawPassword,callback:function(t){e.rawPassword=t},expression:"rawPassword"}})],1),e._v(" "),r("md-input-container",[r("label",[e._v("Confirm Password")]),e._v(" "),r("md-input",{attrs:{type:"password",placeholder:"Confirm Password"},model:{value:e.rawPasswordConfirm,callback:function(t){e.rawPasswordConfirm=t},expression:"rawPasswordConfirm"}})],1),e._v(" "),r("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"}},[e._v("\n          Register\n        ")]),e._v(" "),e.error?r("div",{staticStyle:{color:"red"}},[e._v("\n          "+e._s(e.error)+"\n        ")]):e._e()],1)])],1)],1)},staticRenderFns:[]},ge=r("VU/8")(fe,he,!1,null,null,null).exports,_e={name:"EditUser",data:function(){var e=g.a.assign({},F.user);return g.a.assign(e,{title:"Edit Your Details",rawPassword:"",rawPasswordConfirm:"",error:""}),e},methods:{submit:function(){var e=this;return i()(a.a.mark(function t(){var r,n,s,i,o,c,l,u,d;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e.error="",r={},n=["id","name","email","rawPassword","rawPasswordConfirm"],s=!0,i=!1,o=void 0,t.prev=6,c=y()(n);!(s=(l=c.next()).done);s=!0)u=l.value,e.$data[u]&&(r[u]=e.$data[u]);t.next=14;break;case 10:t.prev=10,t.t0=t.catch(6),i=!0,o=t.t0;case 14:t.prev=14,t.prev=15,!s&&c.return&&c.return();case 17:if(t.prev=17,!i){t.next=20;break}throw o;case 20:return t.finish(17);case 21:return t.finish(14);case 22:return t.next=24,F.update(r);case 24:(d=t.sent).result?e.error="User updated":(console.log("> EditUser.submit fail",d),e.error=d.error.message);case 26:case"end":return t.stop()}},t,e,[[6,10,14,22],[15,,17,21]])}))()}}},xe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("md-layout",{attrs:{"md-align":"center"}},[r("md-whiteframe",{staticStyle:{"margin-top":"4em",padding:"3em"}},[r("md-layout",{attrs:{"md-flex":"50","md-align":"center","md-column":""}},[r("h2",{staticClass:"md-display-2"},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[r("md-input-container",[r("label",[e._v("User name")]),e._v(" "),r("md-input",{attrs:{type:"text",placeholder:"User name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),r("md-input-container",[r("label",[e._v("E-mail address")]),e._v(" "),r("md-input",{attrs:{type:"text",placeholder:"E-mail address"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),r("md-input-container",[r("label",[e._v("New Password")]),e._v(" "),r("md-input",{attrs:{type:"password",placeholder:"New Password"},model:{value:e.rawPassword,callback:function(t){e.rawPassword=t},expression:"rawPassword"}})],1),e._v(" "),r("md-input-container",[r("label",[e._v("New Password")]),e._v(" "),r("md-input",{attrs:{type:"password",placeholder:"Confirm Password"},model:{value:e.rawPasswordConfirm,callback:function(t){e.rawPasswordConfirm=t},expression:"rawPasswordConfirm"}})],1),e._v(" "),r("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"}},[e._v("\n          Update\n        ")]),e._v(" "),e.error?r("div",{staticStyle:{color:"red"}},[e._v("\n          "+e._s(e.error)+"\n        ")]):e._e()],1)])],1)],1)},staticRenderFns:[]},be=r("VU/8")(_e,xe,!1,null,null,null).exports,ye={name:"experiment",data:function(){return{error:"",participateId:null}},mounted:function(){var e=this;return i()(a.a.mark(function t(){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$data.experimentId=e.$route.params.experimentId,console.log("> MturkParticipant.mounted",e.$data.experimentId),t.next=4,E.rpcRun("publicInviteParticipant",e.$data.experimentId,"test@test.com");case 4:(r=t.sent).result?(console.log("> Experiment.makeInvite",r),e.participateId=r.result.participant.participateId,e.$router.push("/participant/"+e.participateId)):e.error=r.error.message;case 6:case"end":return t.stop()}},t,e)}))()}},we={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"padding-left":"1em","padding-right":"1em"}},[r("h2",{staticClass:"md-display-2"},[e._v("\n    Creating new participant\n  ")]),e._v(" "),e.error?e._e():r("p",[e._v("\n    Will redirect when created...\n  ")]),e._v(" "),e.error?r("p",[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e()])},staticRenderFns:[]},ke=r("VU/8")(ye,we,!1,null,null,null).exports,Ce={name:"ChangePassword",data:function(){var e={id:"",title:"Edit Your Details",rawPassword:"",msg:""};return console.log("> ChangePassword.data",C.jstr(e)),e},methods:{submit:function(){var e=this;return i()(a.a.mark(function t(){var r,n,s,i,o,c,l,u,d;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r={},n=["id","rawPassword"],s=!0,i=!1,o=void 0,t.prev=5,c=y()(n);!(s=(l=c.next()).done);s=!0)u=l.value,e.$data[u]&&(r[u]=e.$data[u]);t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),i=!0,o=t.t0;case 13:t.prev=13,t.prev=14,!s&&c.return&&c.return();case 16:if(t.prev=16,!i){t.next=19;break}throw o;case 19:return t.finish(16);case 20:return t.finish(13);case 21:return t.next=23,F.forceUpdate(r);case 23:(d=t.sent).result?(e.msg="success",e.$router.push("/experiments")):(console.log("> ChangePassword.submit fail"),e.msg=d.error.message);case 25:case"end":return t.stop()}},t,e,[[5,9,13,21],[14,,16,20]])}))()}}},Se={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{padding:"1em"}},[r("h2",{staticClass:"md-display-2"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[r("md-input-container",[r("label",[e._v("User id")]),e._v(" "),r("md-input",{attrs:{type:"text",placeholder:"User id"},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),e._v(" "),r("md-input-container",[r("label",[e._v("New Password")]),e._v(" "),r("md-input",{attrs:{type:"password",placeholder:"New Password"},model:{value:e.rawPassword,callback:function(t){e.rawPassword=t},expression:"rawPassword"}})],1),e._v(" "),r("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"}},[e._v("\n      Update\n    ")]),e._v(" "),e.msg?r("div",{staticClass:"card error"},[e._v("\n      "+e._s(e.msg)+"\n    ")]):e._e()],1)])},staticRenderFns:[]},Pe=r("VU/8")(Ce,Se,!1,null,null,null).exports;o.default.use(M.a);var Re=new M.a({routes:[{path:"/",name:"home",component:O},{path:"/login",name:"login",component:ve},{path:"/register",name:"register",component:ge},{path:"/edit-user",name:"editUser",component:be},{path:"/change-password",name:"changePassword",component:Pe},{path:"/experiments",name:"expriments",component:H},{path:"/create-experiment",name:"createExpriment",component:re},{path:"/experiment/:experimentId",name:"expriment",component:G},{path:"/participant/:participateId",name:"participant",component:de},{path:"/mechanical-turk/:experimentId",name:"mturkParticipant",component:ke}]}),Ie=["/mechanical-turk","/participant","/login","/register"];Re.beforeEach(function(e,t,r){C.isStringInStringList(e.path,Ie)||"/"===e.path?r():F.user.authenticated?r():(console.log("> router.beforeEach blocked",e.path,"to /"),r("/login"))});var Ue,$e=Re,Ee={state:{count:0},mutations:{increment:function(e){e.count++}}},Te=(Ue=i()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=3;break}return e.next=3,F.restoreLastUser();case 3:return e.abrupt("return",new o.default({el:"#app",router:$e,store:new c.a.Store(Ee),template:"<App/>",components:{App:B}}));case 4:case"end":return e.stop()}},e,this)})),function(){return Ue.apply(this,arguments)});o.default.config.productionTip=!1,o.default.use(u.a),o.default.use(c.a),document.title=m,o.default.material.registerTheme("default",{primary:"blue-grey"}),Te()},eFJw:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f1bd58417b7fb9545321.js.map